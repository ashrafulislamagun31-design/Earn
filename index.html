<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Emtiaz Owner</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f4f4f9; text-align:center; padding:20px; }
    h1 { color:#333; }
    .btn { padding:10px 20px; margin:10px; border:none; border-radius:5px; cursor:pointer; }
    .btn-primary { background:#007bff; color:#fff; }
    .btn-success { background:#28a745; color:#fff; }
    .btn-danger { background:#dc3545; color:#fff; }
    .card { background:#fff; padding:20px; margin:15px auto; border-radius:10px; width:90%; max-width:400px; box-shadow:0 4px 6px rgba(0,0,0,0.1); }
    #balance { font-size:20px; font-weight:bold; margin:15px 0; }
    textarea { width:100%; height:60px; }
    ul { list-style:none; padding:0; }
    li { background:#eee; margin:5px 0; padding:8px; border-radius:5px; }
  </style>
</head>
<body>

  <h1>💰 Emtiaz Owner</h1>
  <div id="balance">Balance: 0 Points</div>

  <!-- Watch & Earn -->
  <div class="card">
    <h3>🎥 Watch & Earn</h3>
    <div id="adextra-container"></div>
    <button id="watchBtn" class="btn btn-primary">Watch & Earn</button>
  </div>

  <!-- Referral -->
  <div class="card">
    <h3>👥 Referral</h3>
    <textarea id="refLink" readonly>https://emtiaz-owner.app/ref?code=ABC123</textarea>
    <button class="btn btn-success" onclick="copyReferral()">Copy Referral Link</button>
  </div>

  <!-- Withdraw -->
  <div class="card">
    <h3>🏦 Withdraw</h3>
    <select id="method">
      <option value="bkash">bKash</option>
      <option value="nagad">Nagad</option>
      <option value="recharge">Mobile Recharge</option>
    </select><br><br>
    <input type="number" id="withdrawAmount" placeholder="Enter Amount (TK)" /><br><br>
    <button class="btn btn-danger" onclick="withdraw()">Withdraw</button>
  </div>

  <!-- History -->
  <div class="card">
    <h3>📜 Withdraw History</h3>
    <ul id="history"></ul>
  </div>

<script>
let balance = 0;

// ✅ Watch & Earn
document.getElementById("watchBtn").addEventListener("click", () => {
  // আগের ad মুছে ফেলা
  document.getElementById("adextra-container").innerHTML = "";

  // নতুন ad div তৈরি
  const adDiv = document.createElement("div");
  adDiv.id = "02550eb738a9bc745b2d1ca9865a18866fad3996";
  document.getElementById("adextra-container").appendChild(adDiv);

  // script dynamically লোড
  const s = document.createElement("script");
  s.async = true;
  s.src = "https://partner.adextra.io/jt/02550eb738a9bc745b2d1ca9865a18866fad3996.js";
  document.getElementById("adextra-container").appendChild(s);

  // Ad শেষ ধরলাম 10 সেকেন্ড পরে
  setTimeout(() => {
    balance += 50;
    updateBalance();
    alert("✅ Ad Finished! You earned 50 points.");
  }, 10000);
});

// ✅ Balance update
function updateBalance() {
  document.getElementById("balance").innerText = "Balance: " + balance + " Points";
}

// ✅ Referral copy
function copyReferral() {
  const refLink = document.getElementById("refLink");
  refLink.select();
  refLink.setSelectionRange(0, 99999);
  navigator.clipboard.writeText(refLink.value);
  alert("🔗 Referral link copied!");
}

// ✅ Withdraw
function withdraw() {
  const amount = parseInt(document.getElementById("withdrawAmount").value);
  const method = document.getElementById("method").value;

  if (isNaN(amount) || amount <= 0) {
    alert("❌ Enter a valid amount.");
    return;
  }
  if (balance < amount * 270) { 
    alert("❌ Not enough points. (1 TK = 270 Points)");
    return;
  }

  balance -= amount * 270;
  updateBalance();

  const li = document.createElement("li");
  li.textContent = `💸 ${amount} TK withdrawn via ${method}`;
  document.getElementById("history").appendChild(li);

  alert("✅ Withdraw request submitted!");
}
</script>

</body>
</html>
